@using CosmenticFormulaApp.Web.Models

<div class="import-results mt-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h4>Import Results</h4>
        <button @onclick="OnClear" class="btn btn-sm btn-outline-secondary">
            <span class="oi oi-x"></span> Clear
        </button>
    </div>

    <div class="results-list">
        @foreach (var result in Results)
        {
            <div class="alert @(result.Success ? "alert-success" : "alert-danger") mb-2">
                <div class="d-flex justify-content-between align-items-start">
                    <div>
                        <strong>@result.FileName</strong>
                        <p class="mb-0 mt-1">@result.Message</p>
                        @if (result.FormulaId.HasValue && result.Success)
                        {
                            <small class="text-muted">Formula ID: @result.FormulaId</small>
                        }
                    </div>
                    <div>
                        @if (result.Success)
                        {
                            <span class="badge bg-success">Success</span>
                        }
                        else
                        {
                            <span class="badge bg-danger">Failed</span>
                        }
                    </div>
                </div>
            </div>
        }
    </div>
</div>

@code {
    [Parameter] public List<CosmenticFormulaApp.Web.Models.ImportResult> Results { get; set; } = new();
    [Parameter] public EventCallback OnClear { get; set; }
}